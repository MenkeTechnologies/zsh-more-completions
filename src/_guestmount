#compdef guestmount

local arguments

arguments=(
  '-a[|--add image       Add image]'
  '-c[|--connect uri     Specify libvirt URI for -d option]'
  '--dir-cache-timeout[set readdir cache timeout (default 5 sec)]'
  '-d[|--domain guest    Add disks from libvirt guest]'
  '--echo-keys[dont turn off echo for passphrases]'
  '--fd[write to pipe FD when mountpoint is ready]'
  '--format[..\]    Force disk format for -a option]'
  '--fuse-help[display extra FUSE options]'
  '-i[|--inspector       Automatically mount filesystems]'
  '--help[display help message and exit]'
  '--keys-from-stdin[read passphrases from stdin]'
  '--live[connect to a live virtual machine]'
  '-m[|--mount dev\[:mnt\[:opts\[:fstype\]\] Mount dev on mnt (if omitted, /)]'
  '--no-fork[dont daemonize]'
  '-n[|--no-sync         Dont autosync]'
  '-o[|--option opt      Pass extra option to FUSE]'
  '--pid-file[write PID to filename]'
  '-r[|--ro              Mount read-only]'
  '--selinux[for backwards compat only, does nothing]'
  '-v[|--verbose         Verbose messages]'
  '-V[|--version         Display version and exit]'
  '-w[|--rw              Mount read-write]'
  '-x[|--trace           Trace guestfs API calls]'
  '*:filename:_files'
)

_arguments -s $arguments
