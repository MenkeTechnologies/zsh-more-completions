#compdef slapconfig

local arguments

arguments=(
  '-getstyle[]'
  '-getclientconfig[]'
  '-getmasterconfig[]'
  '-getreplicaconfig[]'
  '-getmacosxodpolicy[]'
  '-createldapmasterandadmin[\[--certAuthName <certAuthName>\] \[--certAdminEmail <certAdminEmail>\] \[--certOrgName <certOrgName>\]]'
  '-createreplica[<certAdminEmail>\] <master address> <admin user>]'
  '-addreplica[num\] \[--guid D1C9C376-D940-404D-9941-7AD24E6A37DA\] <replica-address>]'
  '-enableslapdlog[]'
  '-destroyldapserver[user>\]]'
  '-promotereplica[user> \[<archive-path>\]]'
  '-removereplica[D1C9C376-D940-404D-9941-7AD24E6A37DA\] <replica-address>]'
  '-setldapconfig[\[-maxresults <maximum search results>\]]'
  '-setstandalone[]'
  '-setclient[]'
  '-setmacosxodpolicy[\[disabled|enabled|required\]\]]'
  '-updateaddresses[]'
  '-backupdb[]'
  '-restoredb[]'
  '-ver[]'
  '-getstyle[returns whether configuration is master, replica]'
  '-getclientconfig[returns whether this machine is an LDAP]'
  '-getmasterconfig[returns the list of replicas and replication interval.]'
  '-getreplicaconfig[returns the master address and last update date.]'
  '-getldapconfig[returns the LDAP server settings.]'
  '-getmacosxodpolicy[returns a property list containing the directory]'
  '-createldapmasterandadmin[a new master LDAP server. Creates new]'
  '-createreplica[create a new replica from an existing LDAP master.]'
  '-addreplica[adds a replication link with an already created OD Server.]'
  '-enableslapdlog[turns on the LDAP server logging to /var/log/slapd.log.]'
  '-destroyldapserver[turns off the LDAP server and deletes its database.]'
  '-promotereplica[converts an existing replica into a master]'
  '-removereplica[removes the specified server from the replication]'
  '-setldapconfig[applies the specified settings and restarts slapd.]'
  '-setstandalone[configures the machine to only use the local directory.]'
  '-setclient[configures the machine to bind using DHCP if it is not]'
  '-setmacosxodpolicy[sets directory binding options.]'
  '-updateaddresses[updates the LDAP replica interface list from the password servers list.]'
  '-backupdb[creates an archive containing the LDAP, Password Server]'
  '-restoredb[restores a directory to the backed-up state.]'
  '-ver[displays version information.]'
  '*:filename:_files'
)

_arguments -s $arguments
