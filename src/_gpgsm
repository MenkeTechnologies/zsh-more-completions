#compdef gpgsm

local arguments

arguments=(
  {-s,--sign}'[make a signature]'
  {-b,--detach-sign}'[make a detached signature]'
  {-e,--encrypt}'[encrypt data]'
  {-d,--decrypt}'[decrypt data (default)]'
  '--verify[verify a signature]'
  {-k,--list-keys}'[list keys]'
  '--list-external-keys[list external keys]'
  {-K,--list-secret-keys}'[list secret keys]'
  '--list-chain[list certificate chain]'
  '--fingerprint[list keys and fingerprints]'
  '--generate-key[generate a new key pair]'
  '--delete-keys[remove keys from the public keyring]'
  '--import[import certificates]'
  '--export[export certificates]'
  '--learn-card[register a smartcard]'
  '--server[run in server mode]'
  '--call-dirmngr[pass a command to the dirmngr]'
  '--call-protect-tool[invoke gpg-protect-tool]'
  '--change-passphrase[change a passphrase]'
  {-a,--armor}'[create ascii armored output]'
  '--base64[create base-64 encoded output]'
  '--assume-armor[assume input is in PEM format]'
  '--assume-base64[assume input is in base-64 format]'
  '--assume-binary[assume input is in binary format]'
  {-r,--recipient}'[encrypt for USER-ID]'
  '--disable-crl-checks[never consult a CRL]'
  '--enable-ocsp[check validity using OCSP]'
  '--include-certs[number of certificates to include]'
  '--policy-file[take policy information from FILE]'
  '--disable-policy-checks[do not check certificate policies]'
  '--auto-issuer-key-retrieve[fetch missing issuer certificates]'
  {-u,--local-user}'[use USER-ID to sign or decrypt]'
  {-o,--output}'[write output to FILE]'
  {-v,--verbose}'[verbose]'
  {-q,--quiet}'[be somewhat more quiet]'
  '--no-tty[dont use the terminal at all]'
  '--log-file[write a server mode log to FILE]'
  '--audit-log[write an audit log to FILE]'
  {-n,--dry-run}'[do not make any changes]'
  '--batch[batch mode: never ask]'
  '--yes[assume yes on most questions]'
  '--no[assume no on most questions]'
  '--keyring[add keyring to the list of keyrings]'
  '--default-key[use USER-ID as default secret key]'
  '--keyserver[use this keyserver to lookup keys]'
  '--options[read options from FILE]'
  '--debug-level[set the debugging level to LEVEL]'
  '--status-fd[write status info to this FD]'
  '--cipher-algo[use cipher algorithm NAME]'
  '--digest-algo[use message digest algorithm NAME]'
  '*:filename:_files'
)

_arguments -s $arguments
