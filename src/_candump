#compdef candump

local arguments

arguments=(
  '-t[(timestamp: (a)bsolute/(d)elta/(z)ero/(A)bsolute w date)]'
  '-H[(read hardware timestamps instead of system timestamps)]'
  '-c[(increment color mode level)]'
  '-i[(binary output - may exceed 80 chars/line)]'
  '-a[(enable additional ASCII output)]'
  '-S[(swap byte order in printed CAN data\[\] - marked with ` )]'
  '-s[(silent mode - 0: off (default) 1: animation 2: silent)]'
  '-b[(bridge mode - send received frames to <can>)]'
  '-B[(bridge mode - like -b with disabled loopback)]'
  '-u[(delay bridge forwarding by <usecs> microseconds)]'
  '-l[(log CAN-frames into file. Sets -s 2 by default)]'
  '-L[(use log file format on stdout)]'
  '-n[(terminate after receiption of <count> CAN frames)]'
  '-r[(set socket receive buffer to <size>)]'
  '-D[(Dont exit if a "detected" can device goes down.]'
  '-d[(monitor dropped CAN frames)]'
  '-e[(dump CAN error frames in human-readable format)]'
  '-x[(print extra message infos, rx/tx brs esi)]'
  '-T[(terminate after <msecs> without any reception)]'
  '*:filename:_files'
)

_arguments -s $arguments
