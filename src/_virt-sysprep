#compdef virt-sysprep

local arguments

arguments=(
  {-a,--add}'[add disk image file]'
  '--append-line[append line(s) to the file]'
  {-c,--connect}'[set libvirt URI]'
  '--chmod[change the permissions of a file]'
  {--color,--colors,--colour,--colours}'[use ANSI colour sequences even if not tty]'
  '--commands-from-file[read customize commands from file]'
  '--copy[copy files in disk image]'
  '--copy-in[copy local files or directories into image]'
  {-d,--domain}'[set libvirt guest name]'
  '--delete[delete a file or directory]'
  {-n,--dryrun,--dry-run}'[perform a dry run]'
  '--echo-keys[dont turn off echo for passphrases]'
  '--edit[edit file using Perl expression]'
  '--enable[enable specific operations]'
  '--firstboot[run script at first guest boot]'
  '--firstboot-command[CMD+ARGS>    Run command at first guest boot]'
  '--firstboot-install[PKG..>     Add package(s) to install at first boot]'
  '--format[set format (default: auto)]'
  '--help[display brief help]'
  '--hostname[set the hostname]'
  '--install[PKG..>               Add package(s) to install]'
  '--keep-user-accounts[users to keep]'
  '--keys-from-stdin[read passphrases from stdin]'
  '--link[..\]>       Create symbolic links]'
  '--list-operations[list supported operations]'
  '--mkdir[create a directory]'
  '--mount-options[set mount options (eg /:noatime;/var:rw,noatime)]'
  '--move[move files in disk image]'
  '--network[enable appliance network]'
  '--no-logfile[scrub build log file]'
  '--no-network[disable appliance network (default)]'
  '--no-selinux-relabel[compatibility option, does nothing]'
  {--operation,--operations}'[enable/disable specific operations]'
  '--password[set user password]'
  '--password-crypto[5|sha256|sha512>]'
  {-q,--quiet}'[dont print progress messages]'
  '--remove-user-accounts[users to remove]'
  '--root-password[set root password]'
  '--run[run script in disk image]'
  '--run-command[CMD+ARGS>          Run command in disk image]'
  '--script[script or program to run on guest]'
  '--scriptdir[mount point on host]'
  '--scrub[scrub a file]'
  '--selinux-relabel[relabel files with correct SELinux labels]'
  '--sm-attach[attach to a subscription-manager pool]'
  '--sm-credentials[credentials for subscription-manager]'
  '--sm-register[register using subscription-manager]'
  '--sm-remove[remove all the subscriptions]'
  '--sm-unregister[unregister using subscription-manager]'
  '--ssh-inject[inject a public key into the guest]'
  '--timezone[set the default timezone]'
  '--touch[run touch on a file]'
  '--truncate[truncate a file to zero size]'
  '--truncate-recursive[recursively truncate all files in directory]'
  '--uninstall[PKG..>             Uninstall package(s)]'
  '--update[update packages]'
  '--upload[upload local file to destination]'
  {-V,--version}'[display version and exit]'
  {-v,--verbose}'[enable libguestfs debugging messages]'
  '--write[write file]'
  '-x[enable tracing of libguestfs calls]'
  '*:filename:_files'
)

_arguments -s $arguments
