#compdef setup-plt

local arguments

arguments=(
  '--only[set up only specified, even if none]'
  '-l[... : Setup specified <collection>s]'
  '--pkgs[... : Setup collections in specified <pkg>s]'
  '--doc-index[rebuild documentation index along with specified]'
  '--tidy[clear references to removed items outside of specified]'
  {-c,--clean}'[delete existing compiled files; implies -nxiIFDK]'
  '--fast-clean[like --clean, but non-bootstrapping (can fail)]'
  {-n,--no-zo}'[do not create ".zo" files]'
  '--trust-zos[trust existing ".zo"s (use only with prepackaged ".zo"s)]'
  {-x,--no-launcher}'[do not produce launcher programs]'
  {-F,--no-foreign-libs}'[do not install foreign libraries]'
  '--only-foreign-libs[disable actions except installing foreign libraries]'
  {-i,--no-install}'[do not call collection-specific pre-installers]'
  {-I,--no-post-install}'[do not call collection-specific post-installers]'
  {-d,--no-info-domain}'[do not produce info-domain caches]'
  {-D,--no-docs}'[do not compile .scrbl files and do not build documentation]'
  '--doc-pdf[Build documentation PDFs, write to <dir>]'
  {-K,--no-pkg-deps}'[do not check package dependencies]'
  '--check-pkg-deps[check package dependencies when collections specified]'
  '--fix-pkg-deps[auto-repair package-dependency declarations]'
  '--unused-pkg-deps[check for unused package-dependency declarations]'
  '--chain[Select a continuation other than `setup/setup-go`]:dir:'
  '--boot[Like `--chain`, but use compiled only from <dir>]:dir:'
  {-U,--no-user}'[do not setup user-specific collections (implies --no-planet)]'
  '--no-planet[do not setup PLaneT packages]'
  '--avoid-main[do not make main-installation files]'
  '--force-user-docs[user-specific documentation even if matching installation]'
  {-j,--jobs,--workers}'[Use <n> parallel jobs]'
  {-v,--verbose}'[see names of compiled files and info printfs]'
  {-m,--make-verbose}'[see make and compiler usual messages]'
  {-r,--compile-verbose}'[see make and compiler verbose messages]'
  '--mode[Select a compilation mode, such as "errortrace"]'
  '--fail-fast[trigger a break on the first error]'
  {-p,--pause}'[pause at the end if there are any errors]'
  '-A[... : Unpack and install <archive>s]'
  '--force[treat version mismatches for archives as mere warnings]'
  {-a,--all-users}'[install archives to main (not user-specific) installation]'
  {--help,-h}'[show this help]'
  '*:filename:_files'
)

_arguments -s $arguments
