#compdef volume_key

local arguments

arguments=(
  '(- * :)'{-h,--help}'[show help options]'
  '--version[show version]'
  '--save[save volume secrets to a packet.  Expects operands VOLUME \[PACKET\].]'
  '--restore[restore volume secrets from a packet.  Expects operands VOLUME PACKET.]'
  '--setup-volume[set up an encrypted volume using secrets from a packet.  Expects operands VOLUME PACKET NAME.]'
  '--reencrypt[re-encrypt an escrow packet.  Expects operand PACKET.]'
  '--dump[show information contained in a packet.  Expects operand PACKET.]'
  '--secrets[show secrets contained in a packet.  Expects operand PACKET.]'
  {-d,--nss-dir}'[use the NSS database in DIR]'
  {-b,--batch}'[run in batch mode]'
  {-o,--output}'[write the default secret to PACKET]'
  '--output-data-encryption-key[write data encryption key to PACKET]'
  '--output-passphrase[write passphrase to PACKET]'
  '--create-random-passphrase[create a random passphrase and write it to PACKET]'
  {-c,--certificate}'[encrypt for the certificate in CERT]'
  '--output-format[use FORMAT for all output packets]'
  '--unencrypted[only include unencrypted information, if any, in --dump]'
  '--with-secrets[include secrets in --dump output]'
  '*:filename:_files'
)

_arguments -s $arguments
