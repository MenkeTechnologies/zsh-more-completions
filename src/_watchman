#compdef watchman

local arguments

arguments=(
  '(- * :)'{-h,--help}'[show this help]'
  '--inetd[spawning from an inetd style supervisor]'
  {-v,--version}'[show version number]'
  {-U,--sockname}'[specify alternate sockname]'
  {-o,--logfile}'[specify path to logfile]'
  '--log-level[set the log level (0 = off, default is 1, verbose = 2)]'
  '--pidfile[specify path to pidfile]'
  {-p,--persistent}'[persist and wait for further responses]'
  {-n,--no-save-state}'[dont save state between invocations]'
  '--statefile[specify path to file to hold watch and trigger state]'
  {-j,--json-command}'[instead of parsing CLI arguments, take a single json object from stdin]'
  '--output-encoding[CLI output encoding. json (default) or bser]'
  '--server-encoding[CLI<->server encoding. bser (default) or json]'
  {-f,--foreground}'[run the service in the foreground]'
  '--no-pretty[dont pretty print JSON]'
  '--no-spawn[dont try to start the service if it is not available]'
  '--no-local[when no-spawn is enabled, dont try to handle request in client mode if service is unavailable]'
  '*:filename:_files'
)

_arguments -s $arguments
