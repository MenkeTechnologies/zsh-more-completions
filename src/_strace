#compdef strace

local arguments

arguments=(
  '-p[... / \[-D\] \[-E var=val\]... \[-u username\] PROG \[ARGS\]]'
  '-p[... / \[-D\] \[-E var=val\]... \[-u username\] PROG \[ARGS\]]'
  '-a[alignment COLUMN for printing syscall results (default 40)]'
  '-i[print instruction pointer at time of syscall]'
  '-o[send trace output to FILE instead of stderr]'
  '-q[suppress messages about attaching, detaching, etc.]'
  '-r[print relative timestamp]'
  '-s[limit length of print strings to STRSIZE chars (default 32)]'
  '-t[print absolute timestamp]'
  '-tt[print absolute timestamp with usecs]'
  '-T[print time spent in each syscall]'
  '-x[print non-ascii strings in hex]'
  '-xx[print all strings in hex]'
  '-y[print paths associated with file descriptor arguments]'
  '-yy[print protocol specific information associated with socket file descriptors]'
  '-c[count time, calls, and errors for each syscall and report summary]'
  '-C[like -c but also print regular output]'
  '-O[set overhead for tracing syscalls to OVERHEAD usecs]'
  '-S[sort syscall counts by: time, calls, name, nothing (default time)]'
  '-w[summarise syscall latency (default is system time)]'
  '-e[a qualifying expression: option=\[!\]all or option=\[!\]val1\[,val2\]...]'
  '-P[trace accesses to path]'
  '-b[detach on execve syscall]'
  '-D[run tracer process as a detached grandchild, not as parent]'
  '-f[follow forks]'
  '-ff[follow forks with output into separate files]'
  '-I[1: no signals are blocked]'
  '-E[remove var from the environment for command]'
  '-E[val put var=val in the environment for command]'
  '-p[trace process with process id PID, may be repeated]'
  '-u[run command as username handling setuid and/or setgid]'
  '-d[enable debug output to stderr]'
  '-v[verbose mode: print unabbreviated argv, stat, termios, etc. args]'
  '-h[print help message]'
  '-V[print version]'
  '*:filename:_files'
)

_arguments -s $arguments
