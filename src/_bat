#compdef bat

local arguments

__getLang(){
    declare -a ary
    ary=($(bat --list-languages | tr -d ','))
    _describe -t bat-languages 'languages' ary
}

arguments=(
  {-l,--language}'[set the language for syntax highlighting.]: :__getLang'
  '--list-languages[display all supported languages.]'
  {-m,--map-syntax}'[Map a file extension or name to an existing syntax.]'
  '--theme[set the color theme for syntax highlighting.]'
  '--list-themes[display all supported highlighting themes.]'
  '--style[comma-separated list of style elements to display (*auto*]'
  {-p,--plain}'[show plain style (alias for --style=plain).]'
  {-n,--number}'[show line numbers (alias for --style=numbers).]'
  {-A,--show-all}'[show non-printable characters (space, tab, newline, ..).]'
  {-r,--line-range}'[Only print the lines from N to M.]'
  {-H,--highlight-line}'[Highlight the given line.]'
  '--color[when to use colors (*auto*, never, always).]'
  '--italic-text[use italics in output (always, *never*)]'
  '--decorations[when to show the decorations (*auto*, never, always).]'
  '--paging[specify when to use the pager (*auto*, never, always).]'
  '--wrap[specify the text-wrapping mode (*auto*, never, character).]'
  '--tabs[set the tab width to T spaces.]'
  '(- * :)'{-h,--help}'[print this help message.]'
  {-V,--version}'[show version information.]'
  '*:filename:_files'
)

_arguments -s $arguments
