#compdef crash

local arguments

arguments=(
  '-h[]'
  '--help[without an option argument, display a crash usage help message.]'
  '-s[silently proceed directly to the "crash>" prompt without displaying]'
  '-i[execute the command(s) contained in "file" prior to displaying]'
  '-d[set the internal debug level. The higher the number, the more]'
  '-S[use /boot/System.map as the mapfile.]'
  '-e[vi | emacs]'
  '-f[force the usage of a compressed vmlinux file if its original]'
  '-k[indicate that the NAMELIST file is an LKCD "Kerntypes" debuginfo file.]'
  '-g[determine if a vmlinux or xen-syms namelist file contains debugging data.]'
  '-t[display the system-crash timestamp and exit.]'
  '-L[attempt to lock all of its virtual address space into memory by]'
  '-c[open the tty-device as the console used for debug messages.]'
  '-p[if a processors page size cannot be determined by the dumpfile]'
  '-o[only used with the MEMORY-IMAGE@ADDRESS format for raw RAM dumpfiles]'
  '-m[value]'
  '--machdep[value]'
  '-x[automatically load extension modules from a particular directory.]'
  '--active[track only the active task on each cpu.]'
  '--buildinfo[display the crash binarys build date, the user ID of the builder]'
  '--memory[_module modname]'
  '--memory[_device device]'
  '--log[dump the contents of the kernel log buffer. A kernel namelist]'
  '--no[_kallsyms]'
  '--no[_modules]'
  '--no[_ikconfig]'
  '--no[_data_debug]'
  '--no[_kmem_cache]'
  '--no[_elf_notes]'
  '--kmem[_cache_delay]'
  '--readnow[pass this flag to the embedded gdb module, which will override]'
  '--smp[specify that the system being analyzed is an SMP kernel.]'
  '-v[]'
  '--version[display the version of the crash utility, the version of the]'
  '--cpus[specify the number of cpus in the SMP system being analyzed.]'
  '--osrelease[display the OSRELEASE vmcoreinfo string from a kdump dumpfile]'
  '--hyper[force the session to be that of a Xen hypervisor.]'
  '--p2m[_mfn pfn]'
  '--xen[_phys_start physical-address]'
  '--zero[_excluded]'
  '--no[_panic]'
  '--more[use /bin/more as the command output scroller, overriding the]'
  '--less[use /usr/bin/less as the command output scroller, overriding any]'
  '--CRASHPAGER[use the output paging command defined in the CRASHPAGER shell]'
  '--no[_scroll]'
  '--no[_strip]'
  '--no[_crashrc]'
  '--mod[when loading the debuginfo data of kernel modules with the "mod -S"]'
  '--src[search for the kernel source code in directory instead of in the]'
  '--reloc[when analyzing live x86 kernels configured with a CONFIG_PHYSICAL_START]'
  '--hash[set the number of internal hash queue heads used for list gathering]'
  '--kaslr[| auto]'
  '--minimal[bring up a session that is restricted to the log, dis, rd, sym]'
  '--kvmhost[32|64\]]'
  '--kvmio[override the automatically-calculated KVM guest I/O hole size.]'
  '--offline[show or hide command output that is associated with offline cpus]'
  '*:filename:_files'
)

_arguments -s $arguments
