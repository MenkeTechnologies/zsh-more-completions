#compdef dnsmasq

local arguments

arguments=(
  {-a,--listen-address}'[specify local address(es) to listen on.]'
  {-A,--address}'[/<ipaddr> Return ipaddr for all hosts in specified domains.]'
  {-b,--bogus-priv}'[fake reverse lookups for RFC1918 private address ranges.]'
  {-B,--bogus-nxdomain}'[treat ipaddr as NXDOMAIN (defeats Verisign wildcard).]'
  {-c,--cache-size}'[specify the size of the cache in entries (defaults to 150).]'
  {-C,--conf-file}'[specify configuration file (defaults to /etc/dnsmasq.conf).]'
  {-d,--no-daemon}'[do NOT fork into the background: run in debug mode.]'
  {-D,--domain-needed}'[do NOT forward queries with no domain part.]'
  {-e,--selfmx}'[return self-pointing MX records for local hosts.]'
  {-E,--expand-hosts}'[expand simple names in /etc/hosts with domain-suffix.]'
  {-f,--filterwin2k}'[dont forward spurious DNS requests from Windows hosts.]'
  {-F,--dhcp-range}'[... Enable DHCP in the range given with lease duration.]'
  {-g,--group}'[change to this group after startup (defaults to dip).]'
  {-G,--dhcp-host}'[set address or hostname for a specified machine.]'
  '--dhcp-hostsfile[read DHCP host specs from file.]'
  '--dhcp-optsfile[read DHCP option specs from file.]'
  '--dhcp-hostsdir[read DHCP host specs from a directory.]'
  '--dhcp-optsdir[read DHCP options from a directory.]'
  '--tag-if[evaluate conditional tag expression.]'
  {-h,--no-hosts}'[do NOT load /etc/hosts file.]'
  {-H,--addn-hosts}'[specify a hosts file to be read in addition to /etc/hosts.]'
  '--hostsdir[read hosts files from a directory.]'
  {-i,--interface}'[specify interface(s) to listen on.]'
  {-I,--except-interface}'[specify interface(s) NOT to listen on.]'
  {-j,--dhcp-userclass}'[Map DHCP user class to tag.]:class:'
  '--dhcp-circuitid[Map RFC3046 circuit-id to tag.]:circuit:'
  '--dhcp-remoteid[Map RFC3046 remote-id to tag.]:remote:'
  '--dhcp-subscrid[Map RFC3993 subscriber-id to tag.]:remote:'
  {-J,--dhcp-ignore}'[... Dont do DHCP for hosts with tag set.]'
  '--dhcp-broadcast[...\] Force broadcast replies for hosts with tag set.]'
  {-k,--keep-in-foreground}'[do NOT fork into the background, do NOT run in debug mode.]'
  {-K,--dhcp-authoritative}'[assume we are the only DHCP server on the local network.]'
  {-l,--dhcp-leasefile}'[specify where to store DHCP leases (defaults to /var/lib/misc/dnsmasq.leases).]'
  {-L,--localmx}'[return MX records for local hosts.]'
  {-m,--mx-host}'[<target>,<pref> Specify an MX record.]'
  {-M,--dhcp-boot}'[opts> Specify BOOTP options to DHCP server.]'
  {-n,--no-poll}'[do NOT poll /etc/resolv.conf file, reload only on SIGHUP.]'
  {-N,--no-negcache}'[do NOT cache failed search results.]'
  {-o,--strict-order}'[use nameservers strictly in the order given in /etc/resolv.conf.]'
  {-O,--dhcp-option}'[specify options to be sent to DHCP clients.]'
  '--dhcp-option-force[DHCP option sent even if the client does not request it.]'
  {-p,--port}'[specify port to listen for DNS requests on (defaults to 53).]'
  {-P,--edns-packet-max}'[maximum supported UDP packet size for EDNS.0 (defaults to 4096).]'
  {-q,--log-queries}'[log DNS queries.]'
  {-Q,--query-port}'[force the originating port for upstream DNS queries.]'
  {-R,--no-resolv}'[do NOT read resolv.conf.]'
  {-r,--resolv-file}'[specify path to resolv.conf (defaults to /etc/resolv.conf).]'
  '--servers-file[specify path to file with server= options]'
  {-S,--server}'[/<ipaddr> Specify address(es) of upstream servers with optional domains.]'
  '--rev-server[/<prefix>,<ipaddr> Specify address of upstream servers for reverse address queries]'
  '--local[/ Never forward queries to specified domains.]'
  {-s,--domain}'[<range>\] Specify the domain to be assigned in DHCP leases.]'
  {-t,--mx-target}'[specify default target in an MX record.]'
  {-T,--local-ttl}'[specify time-to-live in seconds for replies from /etc/hosts.]'
  '--neg-ttl[specify time-to-live in seconds for negative caching.]'
  '--max-ttl[specify time-to-live in seconds for maximum TTL to send to clients.]'
  '--max-cache-ttl[specify time-to-live ceiling for cache.]'
  '--min-cache-ttl[specify time-to-live floor for cache.]'
  {-u,--user}'[change to this user after startup. (defaults to nobody).]'
  {-U,--dhcp-vendorclass}'[Map DHCP vendor class to tag.]:class:'
  {-v,--version}'[display dnsmasq version and copyright information.]'
  {-V,--alias}'[<ipaddr>,<netmask> Translate IPv4 addresses from upstream servers.]'
  {-W,--srv-host}'[<target>,... Specify a SRV record.]'
  {-w,--help}'[display this message. Use --help dhcp or --help dhcp6 for known DHCP options.]'
  {-x,--pid-file}'[specify path of PID file (defaults to /var/run/dnsmasq.pid).]'
  {-X,--dhcp-lease-max}'[specify maximum number of DHCP leases (defaults to 1000).]'
  {-y,--localise-queries}'[answer DNS queries based on the interface a query was sent to.]'
  {-Y,--txt-record}'[<txt>\[,<txt\] Specify TXT DNS record.]'
  '--ptr-record[Specify PTR DNS record.]:target:'
  '--interface-name[Give DNS name to IPv4 address of interface.]:interface:'
  {-z,--bind-interfaces}'[bind only to interfaces in use.]'
  {-Z,--read-ethers}'[read DHCP static host information from /etc/ethers.]'
  {-1,--enable-dbus}'[enable the DBus interface for setting upstream servers, etc.]'
  {-2,--no-dhcp-interface}'[do not provide DHCP on this interface, only provide DNS.]'
  {-3,--bootp-dynamic}'[... Enable dynamic address allocation for bootp.]'
  {-4,--dhcp-mac}'[Map MAC address (with wildcards) to option set.]:mac address:'
  '--bridge-interface[<alias>.. Treat DHCP requests on aliases as arriving from interface.]'
  {-5,--no-ping}'[disable ICMP echo address checking in the DHCP server.]'
  {-6,--dhcp-script}'[shell script to run on DHCP lease creation and destruction.]'
  '--dhcp-luascript[lua script to run on DHCP lease creation and destruction.]'
  '--dhcp-scriptuser[run lease-change scripts as this user.]'
  '--script-arp[call dhcp-script with changes to local ARP table.]'
  {-7,--conf-dir}'[read configuration from all the files in this directory.]'
  {-8,--log-facility}'[log to this syslog facility or file. (defaults to DAEMON)]'
  {-9,--leasefile-ro}'[do not use leasefile.]'
  {-0,--dns-forward-max}'[maximum number of concurrent DNS queries. (defaults to 150)]'
  '--clear-on-reload[clear DNS cache when reloading /etc/resolv.conf.]'
  '--dhcp-ignore-names[... Ignore hostnames provided by DHCP clients.]'
  '--dhcp-no-override[do NOT reuse filename and server fields for extra DHCP options.]'
  '--enable-tftp[<intr>\]\] Enable integrated read-only TFTP server.]'
  '--tftp-root[<iface>\] Export files by TFTP only from the specified subtree.]'
  '--tftp-unique-root[add client IP or hardware address to tftp-root.]'
  '--tftp-secure[allow access only to files owned by the user running dnsmasq.]'
  '--tftp-no-fail[do not terminate the service if TFTP directories are inaccessible.]'
  '--tftp-max[maximum number of concurrent TFTP transfers (defaults to 50).]'
  '--tftp-mtu[maximum MTU to use for TFTP transfers.]'
  '--tftp-no-blocksize[disable the TFTP blocksize extension.]'
  '--tftp-lowercase[convert TFTP filenames to lowercase]'
  '--tftp-port-range[Ephemeral port range for use by TFTP transfers.]:end:'
  '--log-dhcp[extra logging for DHCP.]'
  '--log-async[enable async. logging; optionally set queue length.]'
  '--stop-dns-rebind[stop DNS rebinding. Filter private IP ranges when resolving.]'
  '--rebind-localhost-ok[allow rebinding of 127.0.0.0/8, for RBL servers.]'
  '--rebind-domain-ok[/ Inhibit DNS-rebind protection on this domain.]'
  '--all-servers[always perform DNS queries to all servers.]'
  '--dhcp-match[Set tag if client includes matching option in request.]:optspec:'
  '--dhcp-alternate-port[use alternative ports for DHCP.]'
  '--naptr-record[Specify NAPTR DNS record.]:naptr:'
  '--min-port[specify lowest port available for DNS query transmission.]'
  '--max-port[specify highest port available for DNS query transmission.]'
  '--dhcp-fqdn[use only fully qualified domain names for DHCP clients.]'
  '--dhcp-generate-names[generate hostnames based on MAC address for nameless clients.]'
  '--dhcp-proxy[... Use these DHCP relays as full proxies.]'
  '--dhcp-relay[<server>\[,<iface>\] Relay DHCP requests to a remote server]'
  '--cname[<target>\[,<ttl>\] Specify alias name for LOCAL DNS name.]'
  '--pxe-prompt[\[<timeout>\] Prompt to send to PXE clients.]'
  '--pxe-service[boot service for PXE menu.]'
  '--test[check configuration syntax.]'
  '--add-mac[64|text\] Add requestors MAC address to forwarded DNS queries.]'
  '--add-subnet[4 pref>\[,<v6 pref>\] Add specified IP subnet to forwarded DNS queries.]'
  '--add-cpe-id[add client identification to forwarded DNS queries.]'
  '--proxy-dnssec[proxy DNSSEC validation results from upstream nameservers.]'
  '--dhcp-sequential-ip[attempt to allocate sequential IP addresses to DHCP clients.]'
  '--conntrack[copy connection-track mark from queries to upstream connections.]'
  '--dhcp-client-update[allow DHCP clients to do their own DDNS updates.]'
  '--enable-ra[send router-advertisements for interfaces doing DHCPv6]'
  '--dhcp-duid[Specify DUID_EN-type DHCPv6 server DUID]:duid:'
  '--host-record[<address>\[,<ttl>\] Specify host (A/AAAA and PTR) records]'
  '--dns-rr[<RR-number>,\[<data>\] Specify arbitrary DNS resource record]'
  '--bind-dynamic[bind to interfaces in use - check for new interfaces]'
  '--auth-server[Export local names to global DNS]:interface:'
  '--auth-zone[\[<subnet>...\] Domain to export to global DNS]'
  '--auth-ttl[set TTL for authoritative replies]'
  '--auth-soa[...\] Set authoritative zone information]'
  '--auth-sec-servers[<NS>...\] Secondary authoritative nameservers for forward domains]'
  '--auth-peer[<ipaddr>...\] Peers which are allowed to do zone transfer]'
  '--ipset[/<domain>...\]/<ipset>... Specify ipsets to which matching domains should be added]'
  '--synth-domain[<range>,\[<prefix>\] Specify a domain and address range for synthesised names]'
  '--dnssec[activate DNSSEC validation]'
  '--trust-anchor[\[<class>\],... Specify trust anchor key digest.]'
  '--dnssec-debug[disable upstream checking for DNSSEC debugging.]'
  '--dnssec-check-unsigned[ensure answers without DNSSEC are in unsigned zones.]'
  '--dnssec-no-timecheck[dont check DNSSEC signature timestamps until first cache-reload]'
  '--dnssec-timestamp[timestamp file to verify system clock for DNSSEC]'
  '--ra-param[\[mtu:<value>|<interface>|off,\]\[<Set MTU, priority, resend-interval and router-lifetime]'
  '--quiet-dhcp[do not log routine DHCP.]'
  '--quiet-dhcp6[do not log routine DHCPv6.]'
  '--quiet-ra[do not log RA.]'
  '--local-service[accept queries only from directly-connected networks.]'
  '--dns-loop-detect[detect and remove DNS forwarding loops.]'
  '--ignore-address[ignore DNS responses containing ipaddr.]'
  '--dhcp-ttl[set TTL in DNS responses with DHCP-derived addresses.]'
  '--dhcp-reply-delay[delay DHCP replies for at least number of seconds.]'
  '*:filename:_files'
)

_arguments -s $arguments
