#compdef qemu-img

# Autogenerated from man page /usr/share/man/man1/qemu-img.1.gz

local arguments

arguments=(
    {-h,--help}'[Display this help and exit.]'
    {-V,--version}'[Display version information and exit.]'
    {-T,--trace}'[Specify tracing options. sp \[enable=\]PATTERN NDENT 7. 0 NDENT 3.]'
    '--object[is a QEMU user creatable object definition.]:OBJECTDEF'
    '--image-opts[Indicates that the source FILENAME parameter is to be interpreted as a full o…]'
    '--target-image-opts[Indicates that the OUTPUT_FILENAME parameter(s) are to be interpreted as a fu…]'
    {--force-share,-U}'[If specified, qemu-img will open the image in shared mode, allowing other QEM…]':(-U)
    '--backing-chain[Will enumerate information about backing files in a disk image chain.]'
    '-c[Indicates that target image must be compressed (qcow format only).]'
    '-p[Display progress bar (compare, convert and rebase commands only).]'
    '-q[Quiet mode - do not print any output (except errors).]'
    '-S[Indicates the consecutive number of bytes that must contain only zeros for qe…]:SIZE'
    '-t[Specifies the cache mode that should be used with the (destination) file.]:CACHE'
    '-f[First image format.]'
    '-F[Second image format.]'
    '-s[Strict mode - fail on different image size or sector allocation.]'
    '--bitmaps[Additionally copy all persistent bitmaps from the top layer of the source.]'
    '-n[Skip the creation of the target volume.]'
    '-m[Number of parallel coroutines for the convert process.]'
    '-W[Allow out-of-order writes to the destination.]'
    '-C[Try to use copy offloading to move data from source image to target.]'
    '-r[Rate limit for the convert process.]'
    '--salvage[Try to ignore I/O errors when reading.]'
    '--target-is-zero[Assume that reading the destination image will always return zeros.]'
    '-a[Applies a snapshot (revert disk to saved state).]'
    '-d[Deletes a snapshot.]'
    '-l[Lists all snapshots in the given image.]'
    '-o[Amends the image format specific OPTIONS for the image file FILENAME.]'
    {--flush-interval,-i,--pattern}'[Run a simple sequential I/O benchmark on the specified image.]'
    {--merge,--add,--remove,--clear,--enable,--disable,-b,-g}'[Perform one or more modifications of the persistent bitmap BITMAP in the disk…]'
    '--output[Perform a consistency check on the disk image FILENAME.]'
    {-O,-B}'[Convert the disk image FILENAME or a snapshot SNAPSHOT_PARAM to disk image OU…]'
    {--start-offset,--max-length}'[Dump the metadata of image FILENAME and its backing file chain.]'
    '--size[Calculate the file size required for a new image.]'
    {--preallocation,--]SIZE}'[Change the disk image as if it had been created with SIZE.]'
    '--force[erase the last encryption key, and to overwrite an active encryption key.]'
    '--no-drain[queue first.]'
    '*:filename:_files'
)
_arguments -s $arguments
