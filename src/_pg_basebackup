#compdef pg_basebackup

local arguments

arguments=(
  {-D,--pgdata}'[receive base backup into directory]'
  {-F,--format}'[output format (plain (default), tar)]'
  {-r,--max-rate}'[maximum transfer rate to transfer data directory]'
  {-R,--write-recovery-conf}'[write recovery.conf for replication]'
  {-S,--slot}'[replication slot to use]'
  '--no-slot[prevent creation of temporary replication slot]'
  {-T,--tablespace-mapping}'[NEWDIR]'
  {-X,--wal-method}'[include required WAL files with specified method]'
  '--waldir[location for the write-ahead log directory]'
  {-z,--gzip}'[compress tar output]'
  {-Z,--compress}'[9 compress tar output with given compression level]'
  {-c,--checkpoint}'[set fast or spread checkpointing]'
  {-l,--label}'[set backup label]'
  {-n,--no-clean}'[do not clean up after errors]'
  {-N,--no-sync}'[do not wait for changes to be written safely to disk]'
  {-P,--progress}'[show progress information]'
  {-v,--verbose}'[output verbose messages]'
  {-V,--version}'[output version information, then exit]'
  {-d,--dbname}'[connection string]'
  {-h,--host}'[database server host or socket directory]'
  {-p,--port}'[database server port number]'
  {-s,--status-interval}'[time between status packets sent to server (in seconds)]'
  {-U,--username}'[connect as specified database user]'
  {-w,--no-password}'[never prompt for password]'
  {-W,--password}'[force password prompt (should happen automatically)]'
  '*:filename:_files'
)

_arguments -s $arguments
