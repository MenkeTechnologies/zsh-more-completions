#compdef iozone

local arguments

arguments=(
  '-a[auto mode]'
  '-A[auto2 mode]'
  '-b[create Excel worksheet file]'
  '-B[use mmap() files]'
  '-c[include close in the timing calculations]'
  '-C[show bytes transferred by each child in throughput testing]'
  '-d[microsecond delay out of barrier]'
  '-D[use msync(MS_ASYNC) on mmap files]'
  '-e[include flush (fsync,fflush) in the timing calculations]'
  '-E[run extension tests]'
  '-f[to use]'
  '-F[for each process/thread in throughput test]'
  '-g[set maximum file size (in kBytes) for auto mode (or #m or #g)]'
  '-G[use msync(MS_SYNC) on mmap files]'
  '-h[help]'
  '-H[use POSIX async I/O with # async operations]'
  '-i[test to run (0=write/rewrite, 1=read/re-read, 2=random-read/write]'
  '-I[use VxFS VX_DIRECT, O_DIRECT,or O_DIRECTIO for all file operations]'
  '-j[set stride of file accesses to (# * record size)]'
  '-J[milliseconds of compute cycle before each I/O operation]'
  '-k[use POSIX async I/O (no bcopy) with # async operations]'
  '-K[create jitter in the access pattern for readers]'
  '-l[lower limit on number of processes to run]'
  '-L[set processor cache line size to value (in bytes)]'
  '-m[use multiple buffers]'
  '-M[report uname -a output]'
  '-n[set minimum file size (in kBytes) for auto mode (or #m or #g)]'
  '-N[report results in microseconds per operation]'
  '-o[writes are synch (O_SYNC)]'
  '-O[give results in ops/sec.]'
  '-p[purge on]'
  '-P[bind processes/threads to processors, starting with this cpu]'
  '-q[set maximum record size (in kBytes) for auto mode (or #m or #g)]'
  '-Q[create offset/latency files]'
  '-r[record size in Kb]'
  '-R[generate Excel report]'
  '-s[file size in Kb]'
  '-S[set processor cache size to value (in kBytes)]'
  '-t[number of threads or processes to use in throughput test]'
  '-T[use POSIX pthreads for throughput tests]'
  '-u[upper limit on number of processes to run]'
  '-U[mount point to remount between tests]'
  '-v[version information]'
  '-V[verify data pattern write/read]'
  '-w[do not unlink temporary file]'
  '-W[lock file when reading or writing]'
  '-x[turn off stone-walling]'
  '-X[write telemetry file. Contains lines with (offset reclen compute_time) in ascii]'
  '-y[set minimum record size (in kBytes) for auto mode (or #m or #g)]'
  '-Y[read telemetry file. Contains lines with (offset reclen compute_time) in ascii]'
  '-z[used in conjunction with -a to test all possible record sizes]'
  '-Z[enable mixing of mmap I/O and file I/O]'
  '*:filename:_files'
)

_arguments -s $arguments
