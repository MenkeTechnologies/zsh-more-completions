#compdef sqfstar

local arguments

arguments=(
  '-comp[select <comp> compression]'
  '-b[set data block to <block_size>.  Default 128 Kbytes]'
  '-reproducible[build images that are reproducible (default)]'
  '-not-reproducible[build images that are not reproducible]'
  '-mkfs-time[set mkfs time to <time> which is an unsigned int]'
  '-fstime[synonym for mkfs-time]'
  '-all-time[set all inode times to <time> which is an unsigned int]'
  '-exports[make the filesystem exportable via NFS]'
  '-no-sparse[dont detect sparse files]'
  '-no-xattrs[dont store extended attributes]'
  '-xattrs[store extended attributes (default)]'
  '-noI[do not compress inode table]'
  '-noId[do not compress the uid/gid table (implied by -noI)]'
  '-noD[do not compress data blocks]'
  '-noF[do not compress fragment blocks]'
  '-noX[do not compress extended attributes]'
  '-no-fragments[do not use fragments]'
  '-no-tailends[dont pack tail ends into fragments]'
  '-no-duplicates[do not perform duplicate checking]'
  '-no-hardlinks[do not hardlink files, instead store duplicates]'
  '-all-root[make all files owned by root]'
  '-root-time[set root directory time to <time>]'
  '-root-mode[set root directory permissions to octal <mode>]'
  '-root-uid[set root directory owner to <uid>]'
  '-root-gid[set root directory group to <gid>]'
  '-force-uid[set all file uids to <uid>]'
  '-force-gid[set all file gids to <gid>]'
  '-nopad[do not pad filesystem to a multiple of 4K]'
  '-ef[list of exclude dirs/files.  One per line]'
  '-regex[allow POSIX regular expressions to be used in exclude]'
  '-version[print version, licence and copyright message]'
  '-force[force Sqfstar to write to block device or file]'
  '-exit-on-error[treat normally ignored errors as fatal]'
  '-quiet[no verbose output]'
  '-info[print files written to filesystem]'
  '-no-progress[dont display the progress bar]'
  '-progress[display progress bar when using the -info option]'
  '-throttle[throttle the I/O input rate by the given percentage.]'
  '-limit[limit the I/O input rate to the given percentage.]'
  '-processors[use <number> processors.  By default will use number of]'
  '-mem[use <size> physical memory.  Currently set to 495M]'
  '-root-owned[alternative name for -all-root]'
  '-offset[skip <offset> bytes at the beginning of <dest>.]'
  '-o[synonym for -offset]'
  '-noInodeCompression[alternative name for -noI]'
  '-noIdTableCompression[alternative name for -noId]'
  '-noDataCompression[alternative name for -noD]'
  '-noFragmentCompression[alternative name for -noF]'
  '-noXattrCompression[alternative name for -noX]'
  '-help[output this options text to stdout]'
  '-h[output this options text to stdout]'
  '-Xhelp[print compressor options for selected compressor]'
  '-Xcompression-level[<compression-level> should be 1 .. 9 (default 9)]'
  '-Xwindow-size[<window-size> should be 8 .. 15 (default 15)]'
  '-Xstrategy[1,strategy2,...,strategyN]'
  '-Xalgorithm[where <algorithm> is one of:]'
  '-Xcompression-level[<compression-level> should be 1 .. 9 (default 8)]'
  '-Xhc[compress using LZ4 High Compression]'
  '-Xbcj[1,filter2,...,filterN]'
  '-Xdict-size[use <dict-size> as the XZ dictionary size.  The dictionary size]'
  '-Xcompression-level[<compression-level> should be 1 .. 22 (default 15)]'
  '*:filename:_files'
)

_arguments -s $arguments
