#compdef guestfish

local arguments

arguments=(
  '-h[|--cmd-help        List available commands]'
  '-h[|--cmd-help cmd    Display detailed help on cmd]'
  '-a[|--add image       Add image]'
  '-c[|--connect uri     Specify libvirt URI for -d option]'
  '--csh[make --listen csh-compatible]'
  '-d[|--domain guest    Add disks from libvirt guest]'
  '--echo-keys[dont turn off echo for passphrases]'
  '-f[|--file file       Read commands from file]'
  '--format[..\]    Force disk format for -a option]'
  '--help[display brief help]'
  '-i[|--inspector       Automatically mount filesystems]'
  '--keys-from-stdin[read passphrases from stdin]'
  '--listen[listen for remote commands]'
  '--live[connect to a live virtual machine]'
  '-m[|--mount dev\[:mnt\[:opts\[:fstype\]\]\]]'
  '--network[enable network]'
  '-N[|--new \[filename=\]type]'
  '-n[|--no-sync         Dont autosync]'
  '--no-dest-paths[dont tab-complete paths from guest fs]'
  '--pipe-error[pipe commands can detect write errors]'
  '--progress-bars[enable progress bars even when not interactive]'
  '--no-progress-bars[disable progress bars]'
  '--remote[send commands to remote guestfish]'
  '-r[|--ro              Mount read-only]'
  '--selinux[for backwards compat only, does nothing]'
  '-v[|--verbose         Verbose messages]'
  '-V[|--version         Display version and exit]'
  '-w[|--rw              Mount read-write]'
  '-x[echo each command before executing it]'
  '--ro[to avoid any writes to the disk image.  If -i option fails]'
  '*:filename:_files'
)

_arguments -s $arguments
