#compdef utop

local arguments

arguments=(
  '-absname[show absolute filenames in error message]'
  '-I[add <dir> to the list of include directories]'
  '-init[load <file> instead of default init file]'
  '-labels[use commuting label mode]'
  '-no-app-funct[deactivate applicative functors]'
  '-noassert[do not compile assertion checks]'
  '-nolabels[ignore non-optional labels in types]'
  '-nostdlib[do not add default directory to the list of include directories]'
  '-ppx[pipe abstract syntax trees through preprocessor <command>]'
  '-principal[check principality of type inference]'
  '-safe-string[make strings immutable]'
  '-short-paths[shorten paths in types (the default)]'
  '-no-short-paths[do not shorten paths in types]'
  '-rectypes[allow arbitrary recursive types]'
  '-stdin[read script from standard input]'
  '-strict-sequence[left-hand part of a sequence must have type unit]'
  '-unsafe[do not compile bounds checking on array and string access]'
  '-version[print version and exit]'
  '-vnum[print version number and exit]'
  '-w[enable or disable warnings according to <list>:]'
  '-warn-error[enable or disable error status for warnings according to <list>]'
  '-warn-help[show description of warning numbers]'
  '-emacs[run in emacs mode]'
  '-hide-reserved[hide identifiers starting with a _ (the default)]'
  '-show-reserved[show identifiers starting with a _]'
  '-no-implicit-bindings[dont add implicit bindings for expressions (the default)]'
  '-implicit-bindings[add implicit bindings: <expr>;; -> let _0 = <expr>;;]'
  '-no-autoload[disable autoloading of files in $OCAML_TOPLEVEL_PATH/autoload]'
  '-require[load this package]'
  '-dparsetree[dump OCaml AST after rewriting]'
  '-dsource[dump OCaml source after rewriting]'
  '-help[display this list of options]'
  '--help[display this list of options]'
  '*:filename:_files'
)

_arguments -s $arguments
