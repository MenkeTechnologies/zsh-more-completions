#compdef pgbench

local arguments

arguments=(
  {-i,--initialize}'[invokes initialization mode]'
  {-F,--fillfactor}'[set fill factor]'
  {-n,--no-vacuum}'[do not run VACUUM after initialization]'
  {-q,--quiet}'[quiet logging (one message each 5 seconds)]'
  {-s,--scale}'[scaling factor]'
  '--foreign-keys[create foreign key constraints between tables]'
  '--index-tablespace[create indexes in the specified tablespace]'
  '--tablespace[create tables in the specified tablespace]'
  '--unlogged-tables[create tables as unlogged tables]'
  {-b,--builtin}'[@W\] add builtin script NAME weighted at W (default: 1)]'
  {-f,--file}'[@W\] add script FILENAME weighted at W (default: 1)]'
  {-N,--skip-some-updates}'[skip updates of pgbench_tellers and pgbench_branches]'
  {-S,--select-only}'[perform SELECT-only transactions]'
  {-c,--client}'[number of concurrent database clients (default: 1)]'
  {-C,--connect}'[establish new connection for each transaction]'
  {-D,--define}'[VALUE]'
  {-j,--jobs}'[number of threads (default: 1)]'
  {-l,--log}'[write transaction times to log file]'
  {-L,--latency-limit}'[count transactions lasting more than NUM ms as late]'
  {-M,--protocol}'[protocol for submitting queries (default: simple)]'
  {-n,--no-vacuum}'[do not run VACUUM before tests]'
  {-P,--progress}'[show thread progress report every NUM seconds]'
  {-r,--report-latencies}'[report average latency per command]'
  {-R,--rate}'[target rate in transactions per second]'
  {-s,--scale}'[report this scale factor in output]'
  {-t,--transactions}'[number of transactions each client runs (default: 10)]'
  {-T,--time}'[duration of benchmark test in seconds]'
  {-v,--vacuum-all}'[vacuum all four standard tables before tests]'
  '--aggregate-interval[aggregate data over NUM seconds]'
  '--log-prefix[prefix for transaction time log file]'
  '--progress-timestamp[use Unix epoch timestamps for progress]'
  '--sampling-rate[fraction of transactions to log (e.g., 0.01 for 1%)]'
  {-d,--debug}'[print debugging output]'
  {-h,--host}'[database server host or socket directory]'
  {-p,--port}'[database server port number]'
  {-U,--username}'[connect as specified database user]'
  {-V,--version}'[output version information, then exit]'
  '*:filename:_files'
)

_arguments -s $arguments
