#compdef sfdisk

local arguments

arguments=(
  {-A,--activate}'[\[...\] list or set bootable (P)MBR partitions]:part:'
  {-d,--dump}'[dump partition table (usable for later input)]'
  {-J,--json}'[dump partition table in JSON format]'
  {-g,--show-geometry}'[...\] list geometry of all or specified devices]'
  {-l,--list}'[...\] list partitions of each device]'
  {-F,--list-free}'[...\] list unpartitioned free areas of each device]'
  {-r,--reorder}'[fix partitions order (by start offset)]'
  {-s,--show-size}'[...\] list sizes of all or specified devices]'
  {-T,--list-types}'[print the recognized types (see -X)]'
  {-V,--verify}'[...\] test whether partitions seem correct]'
  '--delete[\[...\] delete all or specified partitions]:part:'
  '--part-label[\[<str>\] print or change partition label]:part:'
  '--part-type[\[<type>\] print or change partition type]:part:'
  '--part-uuid[\[<uuid>\] print or change partition uuid]:part:'
  '--part-attrs[\[<str>\] print or change partition attributes]:part:'
  {-a,--append}'[append partitions to existing partition table]'
  {-b,--backup}'[backup partition table sectors (see -O)]'
  '--bytes[print SIZE in bytes rather than in human readable format]'
  '--move-data[move partition data after relocation (requires -N)]'
  {-f,--force}'[disable all consistency checking]'
  '--color[colorize output (auto, always or never)]'
  {-N,--partno}'[specify partition number]'
  {-n,--no-act}'[do everything except write to device]'
  '--no-reread[do not check whether the device is in use]'
  '--no-tell-kernel[do not tell kernel about changes]'
  {-O,--backup-file}'[override default backup file name]'
  {-o,--output}'[output columns]'
  {-q,--quiet}'[suppress extra info messages]'
  {-w,--wipe}'[wipe signatures (auto, always or never)]'
  {-W,--wipe-partitions}'[wipe signatures from new partitions (auto, always or never)]'
  {-X,--label}'[specify label type (dos, gpt, ...)]'
  {-Y,--label-nested}'[specify nested label type (dos, bsd)]'
  {-G,--show-pt-geometry}'[deprecated, alias to --show-geometry]'
  {-L,--Linux}'[deprecated, only for backward compatibility]'
  {-u,--unit}'[deprecated, only sector unit is supported]'
  '(- * :)'{-h,--help}'[display this help]'
  {-v,--version}'[display version]'
  '*:filename:_files'
)

_arguments -s $arguments
