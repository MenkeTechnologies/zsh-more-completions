#compdef rtmpdump

local arguments

arguments=(
  '--help[|-h Prints this help screen.]'
  '--url[|-i url URL with options included (e.g. rtmp://host\[:port\]/path swfUrl=url tcUrl=url)]'
  '--rtmp[|-r url URL (e.g. rtmp://host\[:port\]/path)]'
  '--host[|-n hostname Overrides the hostname in the rtmp url]'
  '--port[|-c port Overrides the port in the rtmp url]'
  '--socks[|-S host:port Use the specified SOCKS proxy]'
  '--protocol[|-l num Overrides the protocol in the rtmp url (0 - RTMP, 2 - RTMPE)]'
  '--playpath[|-y path Overrides the playpath parsed from rtmp url]'
  '--playlist[|-Y Set playlist before playing]'
  '--swfUrl[|-s url URL to player swf file]'
  '--tcUrl[|-t url URL to played stream (default: "rtmp://host\[:port\]/app")]'
  '--pageUrl[|-p url Web URL of played programme]'
  '--app[|-a app Name of target app on server]'
  '--swfhash[|-w hexstring SHA256 hash of the decompressed SWF file (32 bytes)]'
  '--swfsize[|-x num Size of the decompressed SWF file, required for SWFVerification]'
  '--swfVfy[|-W url URL to player swf file, compute hash/size automatically]'
  '--swfAge[|-X days Number of days to use cached SWF hash before refreshing]'
  '--auth[|-u string Authentication string to be appended to the connect string]'
  '--conn[|-C type:data Arbitrary AMF data to be appended to the connect string]'
  '--flashVer[|-f string Flash version string (default: "MAC 10,0,32,18")]'
  '--live[|-v Save a live stream, no --resume (seeking) of live streams possible]'
  '--subscribe[|-d string Stream name to subscribe to (otherwise defaults to playpath if live is specifed)]'
  '--realtime[|-R Dont attempt to speed up download via the Pause/Unpause BUFX hack]'
  '--flv[|-o string FLV output file name, if the file name is - print stream to stdout]'
  '--resume[|-e Resume a partial RTMP download]'
  '--timeout[|-m num Timeout connection num seconds (default: 30)]'
  '--start[|-A num Start at num seconds into stream (not valid when using --live)]'
  '--stop[|-B num Stop at num seconds into stream]'
  '--token[|-T key Key for SecureToken response]'
  '--jtv[|-j JSON Authentication token for Justin.tv legacy servers]'
  '--hashes[|-# Display progress with hashes, not with the byte counter]'
  '--buffer[|-b Buffer time in milliseconds (default: 36000000)]'
  '--skip[|-k num Skip num keyframes when looking for last keyframe to resume from. Useful if resume fails (default: 0)]'
  '--quiet[|-q Suppresses all command output.]'
  '--verbose[|-V Verbose command output.]'
  '--debug[|-z Debug level command output.]'
  '*:filename:_files'
)

_arguments -s $arguments
