#compdef nasm

local arguments

arguments=(
  '-t[assemble in SciTech TASM compatible mode]'
  {-E,-e}'[) preprocess only (writes output to stdout by default)]'
  '-a[dont preprocess (assemble only)]'
  '-M[generate Makefile dependencies on stdout]'
  '-MG[d:o, missing files assumed generated]'
  '-MF[set Makefile dependency file]'
  '-MD[assemble and generate dependencies]'
  '-MT[dependency target name]'
  '-MQ[dependency target name (quoted)]'
  '-MP[emit phony target]'
  '-Z[redirect error messages to file]:file:'
  '-s[redirect error messages to stdout]'
  '-g[generate debugging information]'
  '-F[select a debugging format]'
  '-gformat[same as -g -F format]'
  '-o[write output to an outfile]'
  '-f[select an output format]'
  '-l[write listing to a listfile]'
  '-I[adds a pathname to the include file path]:path:'
  '-O[optimize branch offsets]:digit:'
  '-O0[No optimization]'
  '-O1[Minimal optimization]'
  '-Ox[Multipass optimization (default)]'
  '-P[pre-includes a file]:file:'
  '-D[<macro>\[=<value>\] pre-defines a macro]'
  '-U[undefines a macro]:macro:'
  '-X[specifies error reporting format (gnu or vc)]:format:'
  '-w[+foo enables warning foo (equiv. -Wfoo)]'
  '-w-foo[disable warning foo (equiv. -Wno-foo)]'
  '-w[foo\] can be used to promote warnings to errors]'
  '-h[show invocation summary and exit]'
  {--prefix,--postfix}'[these options prepend or append the given string]'
  '*:filename:_files'
)

_arguments -s $arguments
