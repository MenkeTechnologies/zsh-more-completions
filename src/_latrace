#compdef latrace

local arguments

arguments=(
  {-l,--libs}'[1,lib2... audit from and to lib1, lib2 ...]'
  {-t,--libs-to}'[1,lib2... audit to lib1, lib2 ...]'
  {-f,--libs-from}'[1,lib2... audit from lib1, lib2 ...]'
  {-s,--sym}'[1,sym2... audit symbols sym1, sym2 ...]'
  {-n,--sym-omit}'[1,sym2... omit symbols sym1, sym2 ...]'
  {-L,--lib-subst}'[1,s2... objsearch LD_AUDIT interface (see man page)]'
  {-c,--counts}'[display statistics counts of symbols]'
  {-C,--sort-counts}'[implies -c, plus sort the statistics by stat:]'
  {-p,--pipe}'[use pipe to latrace process to send audit data]'
  {-N,--conf}'[config file]'
  {-A,--enable-args}'[enable arguments output (definitions from headers)]'
  {-D,--detail-args}'[display struct arguments in more detail]'
  {-a,--args}'[arguments definition file, implies -A]'
  {-y,--framesize}'[framesize for storing the stack before pltexit (default 1000)]'
  {-Y,--no-framesize-check}'[disable framesize check]'
  {-F,--no-follow-fork}'[dont follow fork calls - childs]'
  {-E,--no-follow-exec}'[dont follow exec calls]'
  {-S,--timestamp}'[display timestamp for each symbol]'
  {-b,--flow-below}'[1,sym2... display flow only for sym1, sym2 ...]'
  {-I,--no-indent-sym}'[do not indent symbols based on the their stack depth]'
  {-i,--indent-sym}'[specify indent size specification]'
  {-B,--braces}'[allways display braces {}]'
  {-d,--demangle}'[run the symbol name throught the C++ demangler]'
  {-T,--hide-tid}'[dont display thread id]'
  {-o,--output}'[store output to file]'
  {-R,--ctl-config}'[controled config]'
  {-q,--disable}'[disable auditing]'
  {-v,--verbose}'[verbose output]'
  {-V,--version}'[display version]'
  '(- * :)'{-h,--help}'[display help]'
  '*:filename:_files'
)

_arguments -s $arguments
