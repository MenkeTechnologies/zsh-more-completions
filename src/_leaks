#compdef leaks

local arguments

arguments=(
  '-e[/--exclude <sym> exclude leaked blocks whose backtraces include the specified symbol]'
  '-h[/--help show this helpful usage message!]'
  '-q[/--quiet suppress the process description header and footer]'
  '--list[print the leaks as a list ("classic"-style) rather than as a tree]'
  '--groupByType[in leak trees, group children by type rather than showing individual instances]'
  '--nocontext[do not print the binary contexts of discovered leaks]'
  '--nostacks[do not print backtraces or save them in the memory graph file, even when available]'
  '--fullStacks[print backtraces with one line per frame]'
  '--nosources[do not show sourceFile:lineNumber in backtraces]'
  '--outputGraph[save a memory graph file into the given directory or file]'
  '--fullContent[save allocation content descriptions into the memory graph file]'
  '--hex[show the hex content of leaked allocations, if there is no description of content]'
  '--forkCorpse[generate a corpse fork from process and run leaks on it]'
  '--atExit[launches the specified process and runs leaks when the process exits. The process to launch must be the end of the command, and proceeded by --]'
  '--trace[print chains of references from process roots (e.g., global data) to the given block]'
  '--traceTree[print a reverse tree of references, from the given block up to the process roots; can be imported into Instruments with Import Sampler Data]'
  '*:filename:_files'
)

_arguments -s $arguments
