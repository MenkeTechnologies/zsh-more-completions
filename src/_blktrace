#compdef blktrace

local arguments

arguments=(
  '-d[| --dev=<dev>]'
  '-d[specified device. May also be given last after options]'
  '-r[to mounted debugfs, defaults to /sys/kernel/debug]'
  '-o[(s) to send output to]'
  '-D[to prepend to output file names]'
  '-w[after defined time, in seconds]'
  '-a[trace specified actions. See documentation]'
  '-A[trace mask as a single value. See documentation]'
  '-b[buffer size in KiB (default 512)]'
  '-n[of sub buffers (default 4)]'
  '-l[in network listen mode (blktrace server)]'
  '-h[in network client mode, connecting to the given host]'
  '-p[port to use (default 8462)]'
  '-s[the network client NOT use sendfile() to transfer data]'
  '-I[devices found in <devs file>]'
  '-v[program version info]'
  '-V[program version info]'
  '*:filename:_files'
)

_arguments -s $arguments
