# More Zsh Completion Functions

This plugins adds zsh completions (compsys) for ~10.5k commands.
Most were generated by python scripts that parsed --help output and man page output.
As such they are of varying quality.


## Install for Oh My Zsh

```sh
cd "$HOME/.oh-my-zsh/custom/plugins" && git clone https://github.com/MenkeTechnologies/zsh-more-completions.git
```

Add `zsh-more-completions` to plugins array in ~/.zshrc

For the plugin to take effect, compinit must be run after sourcing this file in .zshrc
This requires a second and slow compinit because OMZ runs compinit before sourcing any plugins.
To avoid this add the src dirs to fpath before OMZ run its compinit like such
```sh
# OMZ does not add nested comp dirs to fpath so do it here, assume src
plugins=(plugin1 plugin2)
for plug in ${plugins[@]}; do
    if [[ -d "$ZSH/custom/plugins/$plug" ]]; then
        #null glob - no error
        for dir in "$ZSH/custom/plugins/$plug/"*src(N); do
            if [[ -d "$dir" ]]; then
                if [[ -z ${fpath[(r)$dir]} ]];then
                    if echo $dir | grep -qs "override"; then
                        fpath=($dir $fpath)
                    else
                        fpath=($fpath $dir)
                    fi
                    #echo "add $dir to $fpath" >> "$ZPWR_LOGFILE"
                fi
            fi
        done
    fi
done

```

## General Install

```sh
git clone https://github.com/MenkeTechnologies/zsh-more-completions.git
```

copy all _ files in src directory to somewhere in fpath

## Usage
Run  `autoload -Uz compinit` and then `compinit` to generate the .zcompdump file after install.
Make sure to use the .zcompdump cache when invoking compinit like `compinit -C` in your .zshrc.
This will reduce interactive shell startup time dramatically.

