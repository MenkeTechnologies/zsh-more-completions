#compdef pcp2csv

local arguments

arguments=(
  {-a,--archive}'[metrics source is a PCP log archive]'
  '--archive-folio[read metric source archives from a folio]'
  '--container[specify an individual container to be queried]'
  {-h,--host}'[metrics source is PMCD on host]'
  {-L,--local-PMDA}'[metrics source is local connection to a PMDA]'
  {-K,--spec-local}'[optional additional PMDA spec for local connection]'
  {-c,--config}'[config file path]'
  {-C,--check}'[check config and metrics and exit]'
  {-o,--output}'[output target: archive, csv, stdout (default)]'
  {-F,--output-file}'[output file]'
  {-e,--derived}'[derived metrics definitions]'
  '--daemonize[daemonize on startup]'
  {-V,--version}'[display version number and exit]'
  {-H,--no-header}'[omit headers]'
  {-U,--no-unit-info}'[omit unit info from headers]'
  '--no-inst-info[omit instance info from headers]'
  {-G,--no-globals}'[omit global metrics]'
  {-p,--timestamps}'[print timestamps]'
  {-A,--align}'[align sample times on natural boundaries]'
  {-S,--start}'[start of the time window]'
  {-T,--finish}'[end of the time window]'
  {-O,--origin}'[initial sample time within the time window]'
  {-s,--samples}'[terminate after this many samples]'
  {-t,--interval}'[sampling interval]'
  {-Z,--timezone}'[set reporting timezone]'
  {-z,--hostzone}'[set reporting timezone to local time of metrics source]'
  {-d,--delay}'[delay, pause between updates for archive replay]'
  {-r,--raw}'[output raw counter values (no rate conversion)]'
  {-R,--raw-prefer}'[prefer output raw counter values (no rate conversion)]'
  {-I,--ignore-incompat}'[incompatible instances (default: abort)]'
  {-5,--ignore-unknown}'[ignore unknown metrics (default: abort)]'
  {-i,--instances}'[instances to report (default: all current)]'
  {-j,--live-filter}'[perform instance live filtering]'
  {-J,--rank}'[limit results to COUNT highest/lowest valued instances]'
  {-2,--overall-rank}'[report overall ranking from archive]'
  {-3,--overall-rank-alt}'[report overall ranking from archive in pmrep format]'
  {-4,--names-change}'[update/ignore/abort on PMNS changes (default: ignore)]'
  {-8,--limit-filter}'[default limit for value filtering]'
  {-9,--limit-filter-force}'[forced limit for value filtering]'
  {-n,--invert-filter}'[perform ranking before live filtering]'
  {-N,--predicate}'[set predicate filter reference metric]'
  {-6,--sort-metric}'[set sort reference metric for colxrow output]'
  {-v,--omit-flat}'[omit single-valued metrics]'
  {-m,--include-labels}'[include metric label info]'
  '--include-texts[include metric help texts in archive output]'
  {-X,--colxrow}'[swap stdout columns and rows using STR as header label]'
  {-w,--width}'[default column width]'
  {-W,--width-force}'[forced column width]'
  {-P,--precision}'[prefer N digits after decimal separator (default: 3)]'
  {-0,--precision-force}'[force N digits after decimal separator]'
  {-l,--delimiter}'[delimiter to separate csv/stdout columns]'
  {-k,--extended-csv}'[write extended CSV]'
  {-x,--extended-header}'[extended header]'
  {-7,--fixed-header}'[fixed header and dynamic instances with colxrow output]'
  {-E,--repeat-header}'[repeat stdout headers every N lines]'
  {-1,--dynamic-header}'[update header dynamically on metric/instance changes]'
  {-g,--separate-header}'[separated header before metrics]'
  {-f,--timestamp-format}'[strftime string for timestamp format]'
  {-u,--no-interpol}'[disable interpolation mode with archives]'
  {-q,--count-scale}'[default count unit]'
  {-Q,--count-scale-force}'[forced count unit]'
  {-b,--space-scale}'[default space unit]'
  {-B,--space-scale-force}'[forced space unit]'
  {-y,--time-scale}'[default time unit]'
  {-Y,--time-scale-force}'[forced time unit]'
  '*:filename:_files'
)

_arguments -s $arguments
