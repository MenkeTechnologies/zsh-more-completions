#compdef ibnetdiscover

local arguments

arguments=(
  {--full,-f}'[show full information (ports speed and width, vlcap)]'
  {--show,-s}'[show more information]'
  {--list,-l}'[list of connected nodes]'
  {--grouping,-g}'[show grouping]'
  '--Hca[_list, -H          list of connected CAs]'
  '--Switch[_list, -S       list of connected switches]'
  '--Router[_list, -R       list of connected routers]'
  '--node-name-map[node name map file]'
  '--cache[filename to cache ibnetdiscover data to]'
  '--load-cache[filename of ibnetdiscover cache to load]'
  '--diff[filename of ibnetdiscover cache to diff]'
  '--diffcheck[(s)>    specify checks to execute for --diff]'
  {--ports,-p}'[obtain a ports report]'
  '--max[_hops, -m          report max hops discovered by the library]'
  '--outstanding[_smps, -o <val>  specify the number of outstanding SMPs]'
  {--config,-z}'[use config file, default: /etc/infiniband-diags/ibdiag.conf]'
  {--Ca,-C}'[ca name to use]'
  {--Port,-P}'[ca port number to use]'
  {--timeout,-t}'[timeout in ms]'
  '--m[_key, -y <key>       M_Key to use in request]'
  {--errors,-e}'[show send and receive errors]'
  {--verbose,-v}'[increase verbosity level]'
  {--debug,-d}'[raise debug level]'
  {--help,-h}'[help message]'
  {--version,-V}'[show version]'
  '*:filename:_files'
)

_arguments -s $arguments
