#compdef iblinkinfo

local arguments

arguments=(
  '--node-name-map[node name map file]'
  {--switch,-S}'[start partial scan at the port specified by]'
  {--port-guid,-G}'[(same as -S)]'
  {--Direct,-D}'[start partial scan at the port specified by <dr_path>]'
  {--all,-a}'[print all nodes found in a partial fabric scan]'
  {--hops,-n}'[number of hops to include away from specified node]'
  {--down,-d}'[print only down links]'
  {--line,-l}'[(line mode) print all information for each link]'
  {--additional,-p}'[print additional port settings (PktLifeTime]'
  '--load-cache[filename of ibnetdiscover cache to load]'
  '--diff[filename of ibnetdiscover cache to diff]'
  '--diffcheck[(s)>    specify checks to execute for --diff]'
  '--filterdownports[filename of ibnetdiscover cache to filter downports]'
  '--outstanding[_smps, -o <val>  specify the number of outstanding SMPs]'
  '--switches-only[output only switches]'
  '--cas-only[output only CAs]'
  {--config,-z}'[use config file, default: /etc/infiniband-diags/ibdiag.conf]'
  {--Ca,-C}'[ca name to use]'
  {--Port,-P}'[ca port number to use]'
  {--timeout,-t}'[timeout in ms]'
  '--sm[_port, -s <lid>     SM port lid]'
  '--m[_key, -y <key>       M_Key to use in request]'
  {--errors,-e}'[show send and receive errors]'
  {--verbose,-v}'[increase verbosity level]'
  {--help,-h}'[help message]'
  {--version,-V}'[show version]'
  '*:filename:_files'
)

_arguments -s $arguments
